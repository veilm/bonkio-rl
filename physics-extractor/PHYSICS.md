# Bonk.io Physics Notes

This document will grow as we collect more recordings with `physics-extractor/1.js` and crunch the data in `analyze_jumps.py`.

## Dataset `0-jumps-up-tap`

- Scenario: player on a flat, non-bouncy platform, tapping the UP key roughly once every ~1.5 s.
- Recording cadence ≈120 Hz, but each frame is duplicated (exact same timestamp/position pair). The analysis script deduplicates by keeping the last sample per timestamp.
- Resting Y coordinate: **394.48 px**. Horizontal position is constant (we stood still).
- Detected 11 clean jumps. Six reach **11.0 px** above the floor, five reach **10.23 px**. The shorter group likely corresponds to under-held taps (human timing error). Plot files live in `physics-extractor/analysis/`.

| Jump group | Apex height (px) | Apex time (s) | Total airtime (s) | Takeoff velocity (px/s) | Gravity (px/s²) |
|------------|-----------------|---------------|-------------------|-------------------------|-----------------|
| “Full” tap (6 hops) | 11.00 | 0.50 | ≈1.00 | -40.4 | 81.0 |
| Short tap (5 hops) | 10.23 | 0.48 | ≈0.97 | -39.3 | 81.0 |

Gravity is very stable across all jumps: **~81 px/s²** downward. The normalized jump curves overlay perfectly, indicating a simple constant-acceleration parabola (no measurable air drag in this test).

## Known limitations / next actions

- **Input consistency**: human taps introduce ~0.8 px differences in apex height. Use an automated key tapper (e.g., ydotool or a PIXI ticker helper inside the injector) to nail single-frame presses.
- **Pixel scaling**: 81 px/s² depends on the camera zoom; we need to log a conversion factor (player diameter in px, block widths, etc.) to express gravity in world units that survive zoom changes.
- **Future experiments**: test multi-frame holds to map jump strength vs. hold time, record horizontal motion to measure acceleration/drag, and gather data on bouncy surfaces.

Update this document as new recordings are analyzed so we build a full physics profile over time.

## Dataset `0-tap-up` (zoom sweep)

- Setup: updated spy script `3.js` logs ball width/height. Jump input generated by a ydotool macro that taps UP once per ~1.5 s, eliminating human timing noise.
- Map zoom varied via the editor’s size slider (`size_1` = most zoomed in, `size_13` = most zoomed out). Recordings live under `physics-extractor/data/0-tap-up/bonk_jump_map_size_*.csv`.
- Analyze with `python analyze_jumps.py data/0-tap-up`. The script now handles directories, prints per-file stats, and summarizes everything normalized by on-screen ball diameter.

| Dataset | Ball diameter (px) | Apex (px) | Apex (ball diameters) | Gravity (px/s²) | Gravity (ball diameters/s²) |
|---------|-------------------:|----------:|----------------------:|----------------:|-----------------------------:|
| size_13 | 16.27 | 19.56 | 1.20 | 155.0 | 9.53 |
| size_12 | 19.52 | 23.47 | 1.20 | 186.0 | 9.53 |
| size_9  | 29.28 | 35.18 | 1.20 | 278.5 | 9.51 |
| size_4  | 55.31 | 66.39 | 1.20 | 524.3 | 9.48 |
| size_1  | 97.61 | 122.64 | 1.26† | 918.2 | 9.41 |

† size_1 contained one slightly taller jump (likely two-frame hold); the other five hops match the 1.20 ball apex.

**Takeaways**

- Gravity in raw pixels/s² scales linearly with zoom: halving the on-screen ball size roughly halves the measured gravity.
- After normalizing by the ball diameter, gravity is ~9.5 ball-diameters/s² at every zoom. This implies the underlying physics uses fixed world units; the renderer simply scales everything.
- Apex height also sits at ~1.20 ball diameters with single-frame taps, so “full jump” height is effectively independent of zoom once scaled.
- The analysis script’s normalized outputs give us a zoom-proof reference for future experiments (multi-frame holds, sideways motion, different materials, etc.).
