<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Bonk.io 4-Way Movement Demo</title>
    <style>
      :root {
        color-scheme: dark;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
      }

      body {
        margin: 0;
        display: flex;
        min-height: 100vh;
        background: #0d1117;
        color: #e6edf3;
      }

      #sidebar {
        width: 320px;
        padding: 24px;
        box-sizing: border-box;
        border-right: 1px solid #21262d;
      }

      #sidebar h1 {
        margin: 0 0 12px;
        font-size: 1.35rem;
      }

      #sidebar p {
        margin: 0 0 8px;
        line-height: 1.4;
        color: #9da7b3;
      }

      #sidebar ul {
        padding-left: 20px;
        margin: 12px 0;
        color: #9da7b3;
      }

      #sidebar code {
        color: #ffab70;
      }

      #sidebar label.dropdown {
        display: flex;
        flex-direction: column;
        gap: 6px;
        font-size: 0.95rem;
        margin-bottom: 16px;
        color: #c9d1d9;
      }

      #sidebar label.dropdown select {
        padding: 6px 8px;
        border-radius: 6px;
        border: 1px solid #30363d;
        background: #161b22;
        color: inherit;
        font-size: 0.9rem;
      }

      #sidebar label.toggle {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 0.95rem;
        color: #c9d1d9;
        margin-top: 14px;
      }

      #sidebar label.toggle input {
        accent-color: #2ea043;
      }

      #sim-container {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
      }

      canvas {
        border: 1px solid #21262d;
        background: #030712;
        max-width: 100%;
      }

      #overlay {
        position: absolute;
        top: 18px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 0.9rem;
        letter-spacing: 0.03em;
        color: #7ee787;
        pointer-events: none;
        text-shadow: 0 0 10px rgba(0, 0, 0, 0.6);
      }

      button {
        padding: 8px 14px;
        background: #238636;
        color: #fff;
        border-radius: 6px;
        border: none;
        cursor: pointer;
        font-size: 0.9rem;
      }

      button:hover {
        background: #2ea043;
      }
    </style>
  </head>
  <body>
    <aside id="sidebar">
      <h1>Bonk Physics Sandbox</h1>
      <p>
        This tiny canvas world uses the numbers we measured so far: gravity at
        9.5 ball-diameters/sÂ², up-thrust 5.7, down-thrust 5.7, and horizontal
        thrust 5.45. One ball diameter is treated as one meter.
      </p>
      <label class="dropdown">
        <span>Map</span>
        <select id="map-select"></select>
      </label>
      <label class="dropdown">
        <span>P2 AI</span>
        <select id="ai-select"></select>
      </label>
      <p>Controls:</p>
      <ul>
        <li>
          <strong>P1</strong>: <code>ArrowLeft / ArrowRight</code> for thrust,
          <code>ArrowUp</code> to jump, <code>ArrowDown</code> to descend faster
        </li>
        <li>
          <strong>P2</strong>: <code>A / D</code> for thrust, <code>W</code> to
          jump, <code>S</code> to descend faster
        </li>
        <li><code>R</code> &rarr; reset position/velocity</li>
      </ul>
      <p>
        There is no air drag or ground friction, so releasing the keys lets the
        ball coast forever. Hold UP while airborne to see the slower drop that
        matches the continuous-hold recordings, or hold DOWN to slam/shorten
        jumps. Falling below the arena respawns you at the latest spawn.
      </p>
      <label class="toggle">
        <input type="checkbox" id="velocity-toggle" />
        Show velocity vector
      </label>
    </aside>
    <div id="sim-container">
      <canvas id="sim" width="960" height="600"></canvas>
      <div id="overlay"></div>
      <div style="margin-top: 16px">
        <button id="reset-btn">Reset (R)</button>
      </div>
    </div>

    <script src="sandbox.js"></script>
    <script>
      const sandbox = BonkSandbox.createSandbox({
        canvas: document.getElementById("sim"),
        overlay: document.getElementById("overlay"),
        mapSelect: document.getElementById("map-select"),
        aiSelect: document.getElementById("ai-select"),
        velocityToggle: document.getElementById("velocity-toggle"),
        resetButton: document.getElementById("reset-btn"),
      });
      sandbox.start();
    </script>
  </body>
</html>
